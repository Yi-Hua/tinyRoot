<ion-content [fullscreen]="true" class="baby-theme">

  <div class="container">
    <div class="header-section">
      <div class="app-title">ğŸŒ± Tiny Root</div>
      <div class="total-balance">
        <span class="currency">$</span>
        {{ totalExpense | number }}
      </div>
      <div class="subtitle">æœ¬æœˆå®¶åº­æ”¯å‡º</div>
    </div>

    <div class="input-box">
      <div class="row-inputs">
        <div class="date-picker-wrapper">
          <ion-datetime-button datetime="datetime"></ion-datetime-button>
          <ion-modal [keepContentsMounted]="true">
            <ng-template>
              <ion-datetime id="datetime" presentation="date" [(ngModel)]="newDate"></ion-datetime>
            </ng-template>
          </ion-modal>
        </div>

        <div class="amount-input-wrapper">
          <span class="symbol">$</span>
          <ion-input type="number" placeholder="0" [(ngModel)]="newAmount" class="big-input"></ion-input>
        </div>
      </div>

      <div class="desc-input-wrapper">
        <ion-input type="text" placeholder="ğŸ“ è²·äº†ä»€éº¼å‘¢ï¼Ÿ(ä¾‹å¦‚: å°¿å¸ƒ)" [(ngModel)]="newDesc"></ion-input>
      </div>

      <div class="category-selector">
        <div class="cat-option"
             [class.active]="newCategory === 'Needs'"
             (click)="newCategory = 'Needs'">
          <div class="emoji">ğŸ”´</div>
          <span>å¿…è¦</span>
        </div>
        <div class="cat-option"
             [class.active]="newCategory === 'Wants'"
             (click)="newCategory = 'Wants'">
          <div class="emoji">ğŸŸ¡</div>
          <span>æƒ³è¦</span>
        </div>
        <div class="cat-option"
             [class.active]="newCategory === 'Savings'"
             (click)="newCategory = 'Savings'">
          <div class="emoji">ğŸŸ¢</div>
          <span>å­˜éŒ¢</span>
        </div>
      </div>

      <div class="spender-selector">
        <div class="pill" [class.active]="newSpender === 'Dad'" (click)="newSpender = 'Dad'">
          ğŸ‘¨ğŸ» çˆ¸çˆ¸
        </div>
        <div class="pill" [class.active]="newSpender === 'Mom'" (click)="newSpender = 'Mom'">
          ğŸ‘©ğŸ» åª½åª½
        </div>
      </div>

      <button class="primary-btn" (click)="add()">
        è¨˜ä¸‹ä¸€ç­†
      </button>
    </div>

    <div class="list-section">
      <div class="list-header">æœ€è¿‘ç´€éŒ„</div>

      <div *ngFor="let trans of transactions" class="cute-card">
        <div class="card-icon">
          {{ trans.category === 'Needs' ? 'ğŸ¼' : (trans.category === 'Wants' ? 'ğŸ§¸' : 'ğŸŒ±') }}
        </div>
        <div class="card-info">
          <div class="card-desc">{{ trans.description }}</div>
          <div class="card-meta">{{ trans.date | date:'M/d' }} Â· {{ trans.spender === 'Dad' ? 'ğŸ‘¨ğŸ»' : 'ğŸ‘©ğŸ»' }}</div>
        </div>
        <div class="card-amount">
          {{ trans.amount | number }}
        </div>
      </div>
    </div>

  </div>
</ion-content>
